<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ResidualOutliers — ResidualOutliers • RemixAutoML</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="ResidualOutliers — ResidualOutliers" />
<meta property="og:description" content="ResidualOutliers is an automated time series outlier detection function that utilizes tsoutliers and auto.arima. It looks for five types of outliers: &quot;AO&quot; Additive outliter - a singular extreme outlier that surrounding values aren't affected by; &quot;IO&quot; Innovational outlier - Initial outlier with subsequent anomalous values; &quot;LS&quot; Level shift - An initial outlier with subsequent observations being shifted by some constant on average; &quot;TC&quot; Transient change - initial outlier with lingering effects that dissapate exponentially over time; &quot;SLS&quot; Seasonal level shift - similar to level shift but on a seasonal scale." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9FSKBWGTJ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9FSKBWGTJ3');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RemixAutoML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AdrianAntico/RemixAutoML/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ResidualOutliers</h1>
    <small class="dont-index">Source: <a href='https://github.com/AdrianAntico/RemixAutoML/blob/master/R/ResidualOutliers.R'><code>R/ResidualOutliers.R</code></a></small>
    <div class="hidden name"><code>ResidualOutliers.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>ResidualOutliers is an automated time series outlier detection function that utilizes tsoutliers and auto.arima. It looks for five types of outliers: "AO" Additive outliter - a singular extreme outlier that surrounding values aren't affected by; "IO" Innovational outlier - Initial outlier with subsequent anomalous values; "LS" Level shift - An initial outlier with subsequent observations being shifted by some constant on average; "TC" Transient change - initial outlier with lingering effects that dissapate exponentially over time; "SLS" Seasonal level shift - similar to level shift but on a seasonal scale.</p>
    </div>

    <pre class="usage"><span class='fu'>ResidualOutliers</span><span class='op'>(</span>
  <span class='va'>data</span>,
  DateColName <span class='op'>=</span> <span class='cn'>NULL</span>,
  TargetColName <span class='op'>=</span> <span class='cn'>NULL</span>,
  PredictedColName <span class='op'>=</span> <span class='cn'>NULL</span>,
  TimeUnit <span class='op'>=</span> <span class='st'>"day"</span>,
  Lags <span class='op'>=</span> <span class='fl'>5</span>,
  Diff <span class='op'>=</span> <span class='fl'>1</span>,
  MA <span class='op'>=</span> <span class='fl'>5</span>,
  SLags <span class='op'>=</span> <span class='fl'>0</span>,
  SDiff <span class='op'>=</span> <span class='fl'>1</span>,
  SMA <span class='op'>=</span> <span class='fl'>0</span>,
  tstat <span class='op'>=</span> <span class='fl'>2</span>,
  FixedParams <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>the source residuals data.table</p></td>
    </tr>
    <tr>
      <th>DateColName</th>
      <td><p>The name of your data column to use in reference to the target variable</p></td>
    </tr>
    <tr>
      <th>TargetColName</th>
      <td><p>The name of your target variable column</p></td>
    </tr>
    <tr>
      <th>PredictedColName</th>
      <td><p>The name of your predicted value column. If you supply this, you will run anomaly detection of the difference between the target variable and your predicted value. If you leave PredictedColName NULL then you will run anomaly detection over the target variable.</p></td>
    </tr>
    <tr>
      <th>TimeUnit</th>
      <td><p>The time unit of your date column: hour, day, week, month, quarter, year</p></td>
    </tr>
    <tr>
      <th>Lags</th>
      <td><p>the largest lag or moving average (seasonal too) values for the arima fit</p></td>
    </tr>
    <tr>
      <th>Diff</th>
      <td><p>The largest d value for differencing</p></td>
    </tr>
    <tr>
      <th>MA</th>
      <td><p>Max moving average</p></td>
    </tr>
    <tr>
      <th>SLags</th>
      <td><p>Max seasonal lags</p></td>
    </tr>
    <tr>
      <th>SDiff</th>
      <td><p>The largest d value for seasonal differencing</p></td>
    </tr>
    <tr>
      <th>SMA</th>
      <td><p>Max seasonal moving averages</p></td>
    </tr>
    <tr>
      <th>tstat</th>
      <td><p>the t-stat value for tsoutliers</p></td>
    </tr>
    <tr>
      <th>FixedParams</th>
      <td><p>Set to TRUE or FALSE. If TRUE, a stats::Arima() model if fitted with those parameter values. If FALSE, then an auto.arima is built with the parameter values representing the max those values can be.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A named list containing FullData = original data.table with outliers data and ARIMA_MODEL = the arima model object</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Unsupervised Learning: 
<code><a href='AutoClusteringScoring.html'>AutoClusteringScoring</a>()</code>,
<code><a href='AutoClustering.html'>AutoClustering</a>()</code>,
<code><a href='GenTSAnomVars.html'>GenTSAnomVars</a>()</code>,
<code><a href='H2OIsolationForestScoring.html'>H2OIsolationForestScoring</a>()</code>,
<code><a href='H2OIsolationForest.html'>H2OIsolationForest</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Adrian Antico</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'>data.table</span><span class='fu'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>
  DateTime <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Sys.time.html'>Sys.time</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>,
  Target <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span>
    <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1000</span>, mean <span class='op'>=</span> <span class='fl'>50</span>, sd <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,
      filter<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>10</span><span class='op'>)</span>,
      circular<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>[</span>, <span class='va'>temp</span> <span class='op'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>1000</span><span class='op'>)</span><span class='op'>]</span><span class='op'>[</span>, <span class='va'>DateTime</span> <span class='op'>:=</span> <span class='va'>DateTime</span> <span class='op'>-</span> <span class='va'>temp</span><span class='op'>]</span><span class='op'>[</span>, <span class='va'>temp</span> <span class='op'>:=</span> <span class='cn'>NULL</span><span class='op'>]</span>
<span class='fu'>data.table</span><span class='fu'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setorder.html'>setorderv</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>data</span>, cols <span class='op'>=</span> <span class='st'>'DateTime'</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>data</span><span class='op'>[</span>, <span class='va'>Predicted</span> <span class='op'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span>
  <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1000</span>, mean <span class='op'>=</span> <span class='fl'>50</span>, sd <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,
    filter<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>10</span><span class='op'>)</span>,
    circular<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>Output</span> <span class='op'>&lt;-</span> <span class='fu'>ResidualOutliers</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='va'>data</span>,
  DateColName <span class='op'>=</span> <span class='st'>"DateTime"</span>,
  TargetColName <span class='op'>=</span> <span class='st'>"Target"</span>,
  PredictedColName <span class='op'>=</span> <span class='cn'>NULL</span>,
  TimeUnit <span class='op'>=</span> <span class='st'>"day"</span>,
  Lags <span class='op'>=</span> <span class='fl'>5</span>,
  Diff <span class='op'>=</span> <span class='fl'>1</span>,
  MA <span class='op'>=</span> <span class='fl'>5</span>,
  SLags <span class='op'>=</span> <span class='fl'>0</span>,
  SDiff <span class='op'>=</span> <span class='fl'>0</span>,
  SMA <span class='op'>=</span> <span class='fl'>0</span>,
  tstat <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
<span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>Output</span><span class='op'>[[</span><span class='st'>'FullData'</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>model</span> <span class='op'>&lt;-</span> <span class='va'>Output</span><span class='op'>[[</span><span class='st'>'ARIMA_MODEL'</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>outliers</span> <span class='op'>&lt;-</span> <span class='va'>data</span><span class='op'>[</span><span class='va'>type</span> <span class='op'>!=</span> <span class='st'>"&lt;NA&gt;"</span><span class='op'>]</span>
<span class='op'>}</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Adrian Antico.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


