<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>AutoBanditSarima — AutoBanditSarima • RemixAutoML</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="AutoBanditSarima — AutoBanditSarima" />
<meta property="og:description" content="AutoBanditSarima is a multi-armed bandit model testing framework for SARIMA. Randomized probability matching is the underlying bandit algorithm. Model evaluation is done by blending the training error and the validation error from testing the model on out of sample data. The bandit algorithm compares the performance of the current build against the previous builds which starts with the classic auto.arima from the forecast package. Depending on how many lags, moving averages, seasonal lags and moving averages you test the number of combinations of features to test begins to approach 100,000 different combinations of settings. The function tests out transformations, differencing, and variations of the lags and moving averages. The paramter space is broken up into various buckets that are increasing in sophistication. The bandit algorithm samples from those buckets and based on many rounds of testing it determines which buckets to generate samples from more frequently based on the models performance coming from that bucket. All of the models have performance data collected on them and a final rebuild is initiated when a winner is found. The rebuild process begins by retraining the model with the settings that produced the best performance. If the model fails to build, for whatever reason, the next best buildable model is rebuilt." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9FSKBWGTJ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9FSKBWGTJ3');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RemixAutoML</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AdrianAntico/RemixAutoML/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>AutoBanditSarima</h1>
    <small class="dont-index">Source: <a href='https://github.com/AdrianAntico/RemixAutoML/blob/master/R/AutomatedTimeSeriesModels.R'><code>R/AutomatedTimeSeriesModels.R</code></a></small>
    <div class="hidden name"><code>AutoBanditSarima.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>AutoBanditSarima is a multi-armed bandit model testing framework for SARIMA. Randomized probability matching is the underlying bandit algorithm. Model evaluation is done by blending the training error and the validation error from testing the model on out of sample data. The bandit algorithm compares the performance of the current build against the previous builds which starts with the classic auto.arima from the forecast package. Depending on how many lags, moving averages, seasonal lags and moving averages you test the number of combinations of features to test begins to approach 100,000 different combinations of settings. The function tests out transformations, differencing, and variations of the lags and moving averages. The paramter space is broken up into various buckets that are increasing in sophistication. The bandit algorithm samples from those buckets and based on many rounds of testing it determines which buckets to generate samples from more frequently based on the models performance coming from that bucket. All of the models have performance data collected on them and a final rebuild is initiated when a winner is found. The rebuild process begins by retraining the model with the settings that produced the best performance. If the model fails to build, for whatever reason, the next best buildable model is rebuilt.</p>
    </div>

    <pre class="usage"><span class='fu'>AutoBanditSarima</span><span class='op'>(</span>
  <span class='va'>data</span>,
  FilePath <span class='op'>=</span> <span class='cn'>NULL</span>,
  ByDataType <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>TargetVariableName</span>,
  <span class='va'>DateColumnName</span>,
  TimeAggLevel <span class='op'>=</span> <span class='st'>"week"</span>,
  EvaluationMetric <span class='op'>=</span> <span class='st'>"MAE"</span>,
  NumHoldOutPeriods <span class='op'>=</span> <span class='fl'>5L</span>,
  NumFCPeriods <span class='op'>=</span> <span class='fl'>5L</span>,
  MaxLags <span class='op'>=</span> <span class='fl'>5L</span>,
  MaxSeasonalLags <span class='op'>=</span> <span class='fl'>0L</span>,
  MaxMovingAverages <span class='op'>=</span> <span class='fl'>5L</span>,
  MaxSeasonalMovingAverages <span class='op'>=</span> <span class='fl'>0L</span>,
  MaxFourierPairs <span class='op'>=</span> <span class='fl'>2L</span>,
  TrainWeighting <span class='op'>=</span> <span class='fl'>0.5</span>,
  MaxConsecutiveFails <span class='op'>=</span> <span class='fl'>25L</span>,
  MaxNumberModels <span class='op'>=</span> <span class='fl'>100L</span>,
  MaxRunTimeMinutes <span class='op'>=</span> <span class='fl'>10L</span>,
  NumberCores <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='fl'>1L</span>, <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='fl'>4L</span>, <span class='fu'>parallel</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/parallel/detectCores.html'>detectCores</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>2L</span><span class='op'>)</span><span class='op'>)</span>,
  DebugMode <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Source data.table</p></td>
    </tr>
    <tr>
      <th>FilePath</th>
      <td><p>NULL to return nothing. Provide a file path to save the model and xregs if available</p></td>
    </tr>
    <tr>
      <th>ByDataType</th>
      <td><p>TRUE returns the best model from the four base sets of possible models. FALSE returns the best model.</p></td>
    </tr>
    <tr>
      <th>TargetVariableName</th>
      <td><p>Name of your time series target variable</p></td>
    </tr>
    <tr>
      <th>DateColumnName</th>
      <td><p>Name of your date column</p></td>
    </tr>
    <tr>
      <th>TimeAggLevel</th>
      <td><p>Choose from "year", "quarter", "month", "week", "day", "hour"</p></td>
    </tr>
    <tr>
      <th>EvaluationMetric</th>
      <td><p>Choose from MAE, MSE, and MAPE</p></td>
    </tr>
    <tr>
      <th>NumHoldOutPeriods</th>
      <td><p>Number of time periods to use in the out of sample testing</p></td>
    </tr>
    <tr>
      <th>NumFCPeriods</th>
      <td><p>Number of periods to forecast</p></td>
    </tr>
    <tr>
      <th>MaxLags</th>
      <td><p>A single value of the max number of lags to test</p></td>
    </tr>
    <tr>
      <th>MaxSeasonalLags</th>
      <td><p>A single value of the max number of seasonal lags to test</p></td>
    </tr>
    <tr>
      <th>MaxMovingAverages</th>
      <td><p>A single value of the max number of moving averages to test</p></td>
    </tr>
    <tr>
      <th>MaxSeasonalMovingAverages</th>
      <td><p>A single value of the max number of seasonal moving averages to test</p></td>
    </tr>
    <tr>
      <th>MaxFourierPairs</th>
      <td><p>A single value of the max number of fourier pairs to test</p></td>
    </tr>
    <tr>
      <th>TrainWeighting</th>
      <td><p>Model ranking is based on a weighted average of training metrics and out of sample metrics. Supply the weight of the training metrics, such as 0.50 for 50 percent.</p></td>
    </tr>
    <tr>
      <th>MaxConsecutiveFails</th>
      <td><p>When a new best model is found MaxConsecutiveFails resets to zero. Indicated the number of model attemps without a new winner before terminating the procedure.</p></td>
    </tr>
    <tr>
      <th>MaxNumberModels</th>
      <td><p>Indicate the maximum number of models to test.</p></td>
    </tr>
    <tr>
      <th>MaxRunTimeMinutes</th>
      <td><p>Indicate the maximum number of minutes to wait for a result.</p></td>
    </tr>
    <tr>
      <th>NumberCores</th>
      <td><p>Default max(1L, min(4L, parallel::detectCores()-2L))</p></td>
    </tr>
    <tr>
      <th>DebugMode</th>
      <td><p>Set to TRUE to get print outs of particular steps helpful in tracing errors</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data.table containing historical values and the forecast values along with the grid tuning results in full detail, as a second data.table</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Automated Time Series: 
<code><a href='AutoArfima.html'>AutoArfima</a>()</code>,
<code><a href='AutoBanditNNet.html'>AutoBanditNNet</a>()</code>,
<code><a href='AutoETS.html'>AutoETS</a>()</code>,
<code><a href='AutoTBATS.html'>AutoTBATS</a>()</code>,
<code><a href='AutoTS.html'>AutoTS</a>()</code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Adrian Antico</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Adrian Antico.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


